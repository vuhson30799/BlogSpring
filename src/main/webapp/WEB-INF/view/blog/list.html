<!DOCTYPE html>
<html lang="en" xmlns:th = "http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Blog</title>
</head>
<body>
<h1 th:text="'Current blogs'"></h1>
<h2><a th:text="'Create new blog'" th:href="@{/create-blog}"></a></h2>
<table border="3">
    <thead>
    <tr>
        <td>TITLE</td>
        <td>CONTENT</td>
        <td>AUTHOR</td>
        <td>DATE</td>
        <td><a th:href="@{/category}">CATEGORY</a></td>
        <td>EDIT</td>
        <td>DELETE</td>
    </tr>
    </thead>
    <tbody>
    <th:block th:each="blog : ${blogList}">
        <tr>
            <td th:text="*{blog.title}"></td>
            <td><a th:href="@{/content/__${blog.id}__}" th:text="'view'"></a></td>
            <td th:text="*{blog.author}"></td>
            <td th:text="*{blog.datePublish}"></td>
            <td th:text="*{blog.category.name}"></td>
            <td><a th:href="@{/edit/__${blog.id}__}" th:text="'edit'"></a></td>
            <td><a th:href="@{/delete/__${blog.id}__}" th:text="'delete'"></a></td>
        </tr>
    </th:block>
    </tbody>
</table>
<div>
    <a th:href="@{'customer'(page=${blogList.number - 1})}" th:if="${blogList.hasPrevious()}">Previous</a>
    <span th:text="${blogList.number + 1}"></span>/<span th:text="${blogList.totalPages}"></span>
    <a th:href="@{/customer(page=${blogList.number + 1})}" th:if="${blogList.hasNext()}"></a>
</div>
<p><a th:if="${category} != null" th:href="@{/edit-category/__${category.id}__}" th:text="'Edit This category'"></a> </p>
<!--<p><a th:if="${category} != null" th:href="@{/delete-category/__${category.id}__}" th:text="'Delete This category'"></a> </p>-->
<p th:if="${category} == null"><a th:href="@{/blog-sorted}">Sort by the date created</a></p>
<p th:if="${category} != null"><a th:href="@{/blog-sorted/__${category.id}__}">Sort by the date created</a></p>
<p><a th:href="@{/blog-find}">Find Something</a></p>
<p><a th:href="@{/list}" th:text="'Back to blog list'"></a></p>

</body>
</html>